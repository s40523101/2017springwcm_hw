var tipuesearch = {"pages":[{"title":"減速齒輪","text":"協同 2D 正齒輪傳動繪圖 window.onload=function(){ // 設定 data/py 為共用程式路徑 brython({debug:1, pythonpath:['./../data/py']}); } 正齒輪嚙合的協同繪圖 (13t-17t-11t) # 導入 browser 模組中的 document, 並設為 doc 變數 from browser import document as doc import math # deg 為角度轉為徑度的轉換因子 deg = math.pi/180. # 定義 Spur 類別 class Spur(object): def __init__(self, ctx): self.ctx = ctx def create_line(self, x1, y1, x2, y2, width=3, fill=\"red\"): self.ctx.beginPath() self.ctx.lineWidth = width self.ctx.moveTo(x1, y1) self.ctx.lineTo(x2, y2) self.ctx.strokeStyle = fill self.ctx.stroke() # # 定義一個繪正齒輪的繪圖函式 # midx 為齒輪圓心 x 座標 # midy 為齒輪圓心 y 座標 # rp 為節圓半徑, n 為齒數 # pa 為壓力角 (deg) # rot 為旋轉角 (deg) # 已經針對 n 大於等於 52 齒時的繪圖錯誤修正, 因為 base circle 與齒根圓大小必須進行判斷 def Gear(self, midx, midy, rp, n=20, pa=20, color=\"black\"): # 齒輪漸開線分成 15 線段繪製 imax = 15 # 在輸入的畫布上繪製直線, 由圓心到節圓 y 軸頂點畫一直線 self.create_line(midx, midy, midx, midy-rp) # 畫出 rp 圓, 畫圓函式尚未定義 #create_oval(midx-rp, midy-rp, midx+rp, midy+rp, width=2) # a 為模數 (代表公制中齒的大小), 模數為節圓直徑(稱為節徑)除以齒數 # 模數也就是齒冠大小 a=2*rp/n # d 為齒根大小, 為模數的 1.157 或 1.25倍, 這裡採 1.25 倍 d=2.5*rp/n # ra 為齒輪的外圍半徑 ra=rp+a # 畫出 ra 圓, 畫圓函式尚未定義 #create_oval(midx-ra, midy-ra, midx+ra, midy+ra, width=1) # rb 則為齒輪的基圓半徑 # 基圓為漸開線長齒之基準圓 rb=rp*math.cos(pa*deg) # 畫出 rb 圓 (基圓), 畫圓函式尚未定義 #create_oval(midx-rb, midy-rb, midx+rb, midy+rb, width=1) # rd 為齒根圓半徑 rd=rp-d # 當 rd 大於 rb 時, 漸開線並非畫至 rb, 而是 rd # 畫出 rd 圓 (齒根圓), 畫圓函式尚未定義 #create_oval(midx-rd, midy-rd, midx+rd, midy+rd, width=1) # dr 則為基圓到齒頂圓半徑分成 imax 段後的每段半徑增量大小 # 將圓弧分成 imax 段來繪製漸開線 # 當 rd 大於 rb 時, 漸開線並非畫至 rb, 而是 rd if rd>rb: dr = (ra-rd)/imax else: dr=(ra-rb)/imax # tan(pa*deg)-pa*deg 為漸開線函數 sigma=math.pi/(2*n)+math.tan(pa*deg)-pa*deg for j in range(n): ang=-2.*j*math.pi/n+sigma ang2=2.*j*math.pi/n+sigma lxd=midx+rd*math.sin(ang2-2.*math.pi/n) lyd=midy-rd*math.cos(ang2-2.*math.pi/n) for i in range(imax+1): # 當 rd 大於 rb 時, 漸開線並非畫至 rb, 而是 rd if rd>rb: r=rd+i*dr else: r=rb+i*dr theta=math.sqrt((r*r)/(rb*rb)-1.) alpha=theta-math.atan(theta) xpt=r*math.sin(alpha-ang) ypt=r*math.cos(alpha-ang) xd=rd*math.sin(-ang) yd=rd*math.cos(-ang) # i=0 時, 繪線起點由齒根圓上的點, 作為起點 if(i==0): last_x = midx+xd last_y = midy-yd # 由左側齒根圓作為起點, 除第一點 (xd,yd) 齒根圓上的起點外, 其餘的 (xpt,ypt)則為漸開線上的分段點 self.create_line((midx+xpt),(midy-ypt),(last_x),(last_y),fill=color) # 最後一點, 則為齒頂圓 if(i==imax): lfx=midx+xpt lfy=midy-ypt last_x = midx+xpt last_y = midy-ypt # the line from last end of dedendum point to the recent # end of dedendum point # lxd 為齒根圓上的左側 x 座標, lyd 則為 y 座標 # 下列為齒根圓上用來近似圓弧的直線 self.create_line((lxd),(lyd),(midx+xd),(midy-yd),fill=color) for i in range(imax+1): # 當 rd 大於 rb 時, 漸開線並非畫至 rb, 而是 rd if rd>rb: r=rd+i*dr else: r=rb+i*dr theta=math.sqrt((r*r)/(rb*rb)-1.) alpha=theta-math.atan(theta) xpt=r*math.sin(ang2-alpha) ypt=r*math.cos(ang2-alpha) xd=rd*math.sin(ang2) yd=rd*math.cos(ang2) # i=0 時, 繪線起點由齒根圓上的點, 作為起點 if(i==0): last_x = midx+xd last_y = midy-yd # 由右側齒根圓作為起點, 除第一點 (xd,yd) 齒根圓上的起點外, 其餘的 (xpt,ypt)則為漸開線上的分段點 self.create_line((midx+xpt),(midy-ypt),(last_x),(last_y),fill=color) # 最後一點, 則為齒頂圓 if(i==imax): rfx=midx+xpt rfy=midy-ypt last_x = midx+xpt last_y = midy-ypt # lfx 為齒頂圓上的左側 x 座標, lfy 則為 y 座標 # 下列為齒頂圓上用來近似圓弧的直線 self.create_line(lfx,lfy,rfx,rfy,fill=color) # 準備在 id=\"gear3\" 的 canvas 中繪圖 canvas = doc[\"gear3\"] ctx = canvas.getContext(\"2d\") # 模數決定齒的尺寸大小, 囓合齒輪組必須有相同的模數與壓力角 # 壓力角 pa 單位為角度 pa = 20 # 第1齒輪齒數 n_g1 = 13 # 第2齒輪齒數 n_g2 = 17 # 第3齒輪齒數 n_g3 = 11 # m 為模數, 根據畫布的寬度, 計算適合的模數大小 m = (0.8*canvas.width)/(n_g1+n_g2+n_g3) # 根據模數 m, 計算各齒輪的節圓半徑 rp_g1 = m*n_g1/2 rp_g2 = m*n_g2/2 rp_g3 = m*n_g3/2 #單一正齒輪繪圖呼叫格式 Spur(ctx).Gear(x, y, r, n, pa, \"blue\") # 開始繪製囓合齒輪輪廓 # 繪圖第1齒輪的圓心座標, 因為希望繪圖佔去 canvas.width 的 80%, 所以兩邊各預留 10% 距離 x_g1 = canvas.width*0.1+rp_g1 # y 方向繪圖區域上方預留 canvas.height 的 20% y_g1 = canvas.height*0.2+rp_g1 # 第2齒輪的圓心座標, 假設排列成水平, 表示各齒輪圓心 y 座標相同 x_g2 = x_g1 + rp_g1 + rp_g2 y_g2 = y_g1 # 第3齒輪的圓心座標 x_g3 = x_g1 + rp_g1 + 2*rp_g2 + rp_g3 y_g3 = y_g1 # 將第1齒輪順時鐘轉 90 度, 也就是 math.pi/2 # 使用 ctx.save() 與 ctx.restore() 以確保各齒輪以相對座標進行旋轉繪圖 ctx.save() # translate to the origin of second gear ctx.translate(x_g1, y_g1) # rotate to engage ctx.rotate(math.pi/2) # put it back ctx.translate(-x_g1, -y_g1) # 繪製第一個齒輪輪廓 Spur(ctx).Gear(x_g1, y_g1, rp_g1, n_g1, pa, \"blue\") ctx.restore() # 將第2齒輪逆時鐘轉 90 度之後, 再多轉一齒, 以便與第1齒輪進行囓合 ctx.save() # translate to the origin of second gear ctx.translate(x_g2, y_g2) # rotate to engage ctx.rotate(-math.pi/2-math.pi/n_g2) # put it back ctx.translate(-x_g2, -y_g2) Spur(ctx).Gear(x_g2, y_g2, rp_g2, n_g2, pa, \"black\") ctx.restore() # 將第3齒輪逆時鐘轉 90 度之後, 再往回轉第2齒輪定位帶動轉角, 然後再逆時鐘多轉一齒, 以便與第2齒輪進行囓合 ctx.save() # translate to the origin of second gear ctx.translate(x_g3, y_g3) # rotate to engage # math.pi+math.pi/n_g2 為第2齒輪從順時鐘轉 90 度之後, 必須配合目前的標記線所作的齒輪 2 轉動角度, 要轉換到齒輪3 的轉動角度 # 必須乘上兩齒輪齒數的比例, 若齒輪2 大, 則齒輪3 會轉動較快 # 第1個 -math.pi/2 為將原先垂直的第3齒輪定位線逆時鐘旋轉 90 度 # -math.pi/n_g3 則是第3齒與第2齒定位線重合後, 必須再逆時鐘多轉一齒的轉角, 以便進行囓合 # (math.pi+math.pi/n_g2)*n_g2/n_g3 則是第2齒原定位線為順時鐘轉動 90 度, # 但是第2齒輪為了與第1齒輪囓合, 已經距離定位線, 多轉了 180 度, 再加上第2齒輪的一齒角度, 因為要帶動第3齒輪定位, # 這個修正角度必須要再配合第2齒與第3齒的轉速比加以轉換成第3齒輪的轉角, 因此乘上 n_g2/n_g3 ctx.rotate(-math.pi/2-math.pi/n_g3+(math.pi+math.pi/n_g2)*n_g2/n_g3) # put it back ctx.translate(-x_g3, -y_g3) Spur(ctx).Gear(x_g3, y_g3, rp_g3, n_g3, pa, \"red\") ctx.restore()","tags":"論述","url":"./jian-su-chi-lun.html"},{"title":"如何接網路線","text":"兩種規格T568A及T586B 兩頭都接一樣則為網路線 兩頭接不一樣則為跳線","tags":"論述","url":"./ru-he-jie-wang-lu-xian.html"},{"title":"如何利用 Fossil SCM 管理MP4程式碼","text":"C cd tmp mkdir mde2a2 cd mde2a2 fossil clone https://學號@mde2a2.kmol.info/mde2a2.fossil mkdir wd cd ed fossil open ./../mde2a2.fosiil 貼影片 fossil add . fossil commit-m \"訊息\"","tags":"論述","url":"./ru-he-li-yong-fossil-scm-guan-li-mp4cheng-shi-ma.html"},{"title":"如何利用 Fossil SCM 管理 mp4","text":"2017-06-26_01-16-41 from 江宜欣 on Vimeo .","tags":"影片","url":"./ru-he-li-yong-fossil-scm-guan-li-mp4.html"},{"title":"組裝主機","text":"拆裝主機板 要先拔復活卡 拔RAM 把兩台電腦的RAM合為一台 拔硬碟裝到另一台 拔電池 把硬碟插電源 在安裝Ubuntu","tags":"影片","url":"./zu-zhuang-zhu-ji.html"},{"title":"Ubuntu 更換語言","text":"2017-04-25_22-38-26 from 江宜欣 on Vimeo .","tags":"影片","url":"./ubuntu-geng-huan-yu-yan.html"},{"title":"Ubuntu 虛擬主機 關機","text":"來教大家如何正確關起虛擬主機 2017-04-25_22-49-49 from 江宜欣 on Vimeo .","tags":"影片","url":"./ubuntu-xu-ni-zhu-ji-guan-ji.html"},{"title":"建立 Ubuntu 虛擬主機","text":"在虛擬主機中建立Ubuntu ubuntu 建立 from 江宜欣 on Vimeo .","tags":"影片","url":"./jian-li-ubuntu-xu-ni-zhu-ji.html"},{"title":"fossil筆記","text":"ipconfig/all ping 自己ip ping gateway ip ping 外部ip tracert 區域網路主要網站 tracet 廣域網路主要網站 喜好設定 全體設定 虛擬主機可透過Nat連線 僅限虛擬主機內部 設定 U04設定值→網路→共用C槽→自動掛載案X xlaunch putty.exe mde→ana2016fall→data→xming→xlauch.exe Host Name 192.168.1.114 saved sessions:114 ssh→x11→localhost:0 fossil clone http://username@192.168.1.68rp.fossil fossil sql-r vcp.fossil select login,pw,capform user update user set pw=0407 where login=user ls-l長形列印 long list fossil clone uri fossil-file fossil open fossil add. foaail commit -m fossil remote-urloff fossil push","tags":"論述","url":"./fossilbi-ji.html"},{"title":"建立伺服器步驟","text":"步驟一if config 步驟二sudo apt-get install - f 步驟三sudo dpkg-configure -a 步驟四sudo apt install nginx","tags":"論述","url":"./jian-li-si-fu-qi-bu-zou.html"},{"title":"連線ipv6教學","text":"為什麼打mde.tw可連接到網頁? 因必須有DNS github.io才可變成githubpage IPV6 2001:288:6004:17.7 學校NDS 2001:288:6004:1::2 中華電信 2001:b000:168::1 DNS跟donate ips轉換 X11 localhost:0","tags":"論述","url":"./lian-xian-ipv6jiao-xue.html"},{"title":"在Ubuntu裡面基本操作","text":"cd 跟目錄 pwd 印出現在的工作目錄 clear 刷新 history 舊指令 history>his txt 存成 cat his.txt lmore 顯示 j往下 k往上 右L 刪除S","tags":"論述","url":"./zai-ubuntuli-mian-ji-ben-cao-zuo.html"},{"title":"Pull Requests","text":"Pull Requests from 江宜欣 on Vimeo .","tags":"影片","url":"./pull-requests.html"},{"title":"何謂機械設計","text":"設計是一種表達，產生內容可去做機密配置 表達方式，口語、文字、2D、理論、實體、軟體。 機：很多元件組成可達成精巧配置 械：控制在一個範圍有固定功能 設：必須明確表達結果之具體規劃 計：經過詳細思慮考量過程 利用虛實整合的機械設計工程師","tags":"論述","url":"./he-wei-ji-jie-she-ji.html"}]};